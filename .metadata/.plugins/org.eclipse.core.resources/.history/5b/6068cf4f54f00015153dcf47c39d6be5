package com.maven.weekThree;


import java.sql.*;
import java.util.*;
public class PostgreSQLJDBC {
	private static PostgreSQLJDBC postgresql;
	private Connection connection;
	
	private void connected(){
		try{
			  Driver driver = new org.postgresql.Driver();
			  DriverManager.registerDriver(driver);
			  String conString= "jdbc:postgresql://localhost:5432/cookingmanagement_v1";
			  Properties info = new Properties();
			  info.setProperty("characterEncoding", "utf8");
			  info.setProperty("user", "postgres");
			  info.setProperty("password", "123456");
			  this.connection = DriverManager.getConnection(conString, info);
			  System.out.println("Opened database successfully");
		  }catch(Exception e){
			  e.printStackTrace();  
			  System.err.println(e.getClass().getName()+": "+e.getMessage());
			  System.exit(0);
		  }
	}
	
	private void closeConnection() throws Exception{
		connection.close();
	}

	public Connection getConnection() {
		return connection;
	}

	public void setConnection(Connection connection) {
		this.connection = connection;
	}
	
	public static PostgreSQLJDBC getInstancce(){
		if(postgresql == null){
			postgresql = new PostgreSQLJDBC();
		}
		return postgresql;
	}
	
}
